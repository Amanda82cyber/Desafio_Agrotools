<!DOCTYPE html>

<html lang = "pt-BR">
    <head>
        <meta charset = "UTF-8" />
        <title>Desafio Agrotools</title>

        <link rel = "stylesheet" href = "node_modules/bootstrap/bootstrap.css" />
        <link rel = "stylesheet" href = "node_modules/bootstrap/style.css" />
        <script src = "node_modules/jquery/jquery.js"></script>

        <script src = "menu.js"></script>
        <script>window.onload = function() {add_menu();};</script>
    </head>

    <body>

        <script>
            function cadastrar_questionario(){
                titulo = document.getElementById("titulo");
                usuario = document.getElementById("usuario");
                data_cadastro = document.getElementById("data_cadastro");
    
                if((titulo.value == "") && (usuario.value == "") && (data_cadastro.value == "")){
                    alert("Preencha todos os campos!");
                }else{
                    var dados = JSON.parse(localStorage.getItem("dados_questionario"));
    
                    // console.log(dados);
    
                    if(dados == null){
                        localStorage.setItem("dados_questionario", []);
                        dados = [];
                    }
    
                    var aux_cadastro = {
                        titulo: titulo.value,
                        usuario: usuario.value,
                        data_cadastro: data_cadastro.value
                    }
    
                    dados.push(aux_cadastro);
    
                    localStorage.setItem("dados_questionario", JSON.stringify(dados));
    
                    alert("Cadastro realizado com sucesso!");
    
                    titulo.value = "";
                    usuario.value = "";
                    data_cadastro.value = "";
                }
            }
        </script>

        <div id = "menu"></div>

        <div style = "margin-top:20px;" class = "container-fluid">
            <div class = "row">
                <div class = "col-md-1 col-sm-12 col-xs-12"></div>

                <div class = "col-md-10 col-sm-12 col-xs-12">
                    <div class = "card text-light bg-dark">
                        <div class = "card-header">
                            <h3>Cadastrar Questionário <i class = "fas fa-pencil-alt" aria-hidden = "true"></i></h3>
                        </div>

                        <div class = "card-body">
                            <form>
                                <div class = "form-row">
                                    <div class = "form-group col-md-6">
                                        <label class = "form-control-placeholder" for = "titulo">Título</label>
                                        <input type = "text" class = "form-control" id = "titulo" name = "titulo" placeholder = "Pergunte..." />
                                    </div>  
                                    
                                    <div class = "form-group col-md-6">
                                        <label class = "form-control-placeholder" for = "usuario">Usuário</label>
                                        <input type = "text" class = "form-control" id = "usuario" name = "usuario" />
                                    </div>
                                    
                                    <div class = "form-group col-md-6">
                                        <label class = "form-control-placeholder" for = "data_cadastro">Data do Cadastro</label>
                                        <input type = "date" class = "form-control" id = "data_cadastro" name = "data_cadastro" />
                                    </div> 

                                    <div class = "col-md-3"></div>

                                    <div class = "form-group col-md-3">
                                        <label class = "invisible">A</label>
                                        <input id = "cadastrar" class = "btn btn-primary btn-block btn-md" type = "button" value = "Cadastrar" onclick = "cadastrar_questionario()" />
                                    </div>
                                </div>
                            </form>
                        </div>
                    </div>
                </div>

                <div class = "col-md-1 col-sm-12 col-xs-12"></div>
            </div>
        </div>
    </body>
</html> 